!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("rxjs/operators"),require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/core"),require("ng-zorro-antd/core")):"function"==typeof define&&define.amd?define("ng-zorro-antd/tooltip",["exports","rxjs","rxjs/operators","@angular/cdk/overlay","@angular/common","@angular/core","ng-zorro-antd/core"],t):t((e["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].tooltip={}),e.rxjs,e.rxjs.operators,e.ng.cdk.overlay,e.ng.common,e.ng.core,e["ng-zorro-antd"].core)}(this,function(e,s,i,t,n,a,o){"use strict";function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return s}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}var p=function(){function e(e,t){this.cdr=e,this.noAnimation=t,this._hasBackdrop=!1,this._prefix="ant-tooltip-placement",this._positions=l(o.DEFAULT_TOOLTIP_POSITIONS),this._classMap={},this._placement="top",this._trigger="hover",this.visibleSource=new s.BehaviorSubject(!1),this.visible$=this.visibleSource.asObservable(),this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzMouseEnterDelay=.15,this.nzMouseLeaveDelay=.1,this.nzVisibleChange=new a.EventEmitter}return Object.defineProperty(e.prototype,"nzVisible",{get:function(){return this.visibleSource.value},set:function(e){var t=o.toBoolean(e);this.visibleSource.value!==t&&(this.visibleSource.next(t),this.nzVisibleChange.emit(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzTrigger",{get:function(){return this._trigger},set:function(e){this._trigger=e,this._hasBackdrop="click"===this._trigger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzPlacement",{get:function(){return this._placement},set:function(e){e!==this._placement&&(this._placement=e,this._positions=l([o.POSITION_MAP[this.nzPlacement]],this._positions))},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){var e=this;Promise.resolve().then(function(){e.updatePosition()})},e.prototype.updatePosition=function(){this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()},e.prototype.onPositionChange=function(e){this.nzPlacement=o.getPlacementName(e),this.setClassMap(),this.cdr.detectChanges()},e.prototype.show=function(){this.isContentEmpty()||(this.nzVisible=!0)},e.prototype.hide=function(){this.nzVisible=!1},e.prototype._afterVisibilityAnimation=function(e){"false"!==e.toState||this.nzVisible||this.nzVisibleChange.emit(!1),"true"===e.toState&&this.nzVisible&&this.nzVisibleChange.emit(!0)},e.prototype.setClassMap=function(){var e;this._classMap=((e={})[this.nzOverlayClassName]=!0,e[this._prefix+"-"+this._placement]=!0,e)},e.prototype.setOverlayOrigin=function(e){this.overlayOrigin=e},e.prototype.isContentEmpty=function(){return!(this.nzTitle instanceof a.TemplateRef)&&(""===this.nzTitle||!o.isNotNil(this.nzTitle))},e.decorators=[{type:a.Component,args:[{selector:"nz-tooltip",exportAs:"nzTooltipComponent",changeDetection:a.ChangeDetectionStrategy.OnPush,encapsulation:a.ViewEncapsulation.None,animations:[o.zoomBigMotion],template:'<ng-content></ng-content>\n<ng-template\n  #overlay="cdkConnectedOverlay"\n  cdkConnectedOverlay\n  nzConnectedOverlay\n  [cdkConnectedOverlayOrigin]="overlayOrigin"\n  [cdkConnectedOverlayOpen]="visible$ | async"\n  [cdkConnectedOverlayHasBackdrop]="_hasBackdrop"\n  [cdkConnectedOverlayPositions]="_positions"\n  (backdropClick)="hide()"\n  (detach)="hide()"\n  (positionChange)="onPositionChange($event)">\n  <div\n    class="ant-tooltip"\n    [ngClass]="_classMap"\n    [ngStyle]="nzOverlayStyle"\n    [nzNoAnimation]="noAnimation?.nzNoAnimation"\n    [@zoomBigMotion]="\'active\'"\n    (@zoomBigMotion.done)="_afterVisibilityAnimation($event)">\n    <div class="ant-tooltip-content">\n      <div class="ant-tooltip-arrow"></div>\n      <div class="ant-tooltip-inner">\n        <ng-container *nzStringTemplateOutlet="nzTitle">{{ nzTitle }}</ng-container>\n      </div>\n    </div>\n  </div>\n</ng-template>',preserveWhitespaces:!1,styles:["\n      .ant-tooltip {\n        position: relative;\n      }\n    "]}]}],e.ctorParameters=function(){return[{type:a.ChangeDetectorRef},{type:o.NzNoAnimationDirective,decorators:[{type:a.Host},{type:a.Optional}]}]},e.propDecorators={overlay:[{type:a.ViewChild,args:["overlay"]}],nzTitle:[{type:a.Input},{type:a.ContentChild,args:["nzTemplate"]}],nzOverlayClassName:[{type:a.Input}],nzOverlayStyle:[{type:a.Input}],nzMouseEnterDelay:[{type:a.Input}],nzMouseLeaveDelay:[{type:a.Input}],nzVisible:[{type:a.Input}],nzTrigger:[{type:a.Input}],nzPlacement:[{type:a.Input}],nzVisibleChange:[{type:a.Output}]},e}(),c=function(){function e(e,t,n,i,o,r){this.elementRef=e,this.hostView=t,this.resolver=n,this.renderer=i,this.tooltip=o,this.noAnimation=r,this.isTooltipOpen=!1,this.isDynamicTooltip=!1,this.factory=this.resolver.resolveComponentFactory(p),this.needProxyProperties=["nzTitle","nzContent","nzOverlayClassName","nzOverlayStyle","nzMouseEnterDelay","nzMouseLeaveDelay","nzVisible","nzTrigger","nzPlacement"],this.subs_=new s.Subscription,this.nzVisibleChange=new a.EventEmitter}return Object.defineProperty(e.prototype,"setTitle",{set:function(e){this.nzTitle=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.updateProxies(e)},e.prototype.ngOnInit=function(){var t=this;if(!this.tooltip){var e=this.hostView.createComponent(this.factory);this.tooltip=e.instance,this.tooltip.noAnimation=this.noAnimation,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),e.location.nativeElement),this.isDynamicTooltip=!0,this.needProxyProperties.forEach(function(e){return t.updateCompValue(e,t[e])});var n=this.tooltip.nzVisibleChange.pipe(i.distinctUntilChanged()).subscribe(function(e){t.visible=e,t.nzVisibleChange.emit(e)});this.subs_.add(n)}this.tooltip.setOverlayOrigin(this)},e.prototype.ngAfterViewInit=function(){var e,t=this;"hover"===this.tooltip.nzTrigger?(this.renderer.listen(this.elementRef.nativeElement,"mouseenter",function(){return t.delayEnterLeave(!0,!0,t.tooltip.nzMouseEnterDelay)}),this.renderer.listen(this.elementRef.nativeElement,"mouseleave",function(){t.delayEnterLeave(!0,!1,t.tooltip.nzMouseLeaveDelay),t.tooltip.overlay.overlayRef&&!e&&(e=t.tooltip.overlay.overlayRef.overlayElement,t.renderer.listen(e,"mouseenter",function(){return t.delayEnterLeave(!1,!0)}),t.renderer.listen(e,"mouseleave",function(){return t.delayEnterLeave(!1,!1)}))})):"focus"===this.tooltip.nzTrigger?(this.renderer.listen(this.elementRef.nativeElement,"focus",function(){return t.show()}),this.renderer.listen(this.elementRef.nativeElement,"blur",function(){return t.hide()})):"click"===this.tooltip.nzTrigger&&this.renderer.listen(this.elementRef.nativeElement,"click",function(e){e.preventDefault(),t.show()})},e.prototype.ngOnDestroy=function(){this.subs_.unsubscribe()},e.prototype.updateCompValue=function(e,t){this.isDynamicTooltip&&o.isNotNil(t)&&(this.tooltip[e]=t)},e.prototype.show=function(){this.tooltip.show(),this.isTooltipOpen=!0},e.prototype.hide=function(){this.tooltip.hide(),this.isTooltipOpen=!1},e.prototype.delayEnterLeave=function(e,t,n){var i=this;void 0===n&&(n=-1),this.delayTimer?(clearTimeout(this.delayTimer),this.delayTimer=null):0<n?this.delayTimer=setTimeout(function(){i.delayTimer=null,t?i.show():i.hide()},1e3*n):t&&e?this.show():this.hide()},e.prototype.updateProxies=function(n){var i=this;this.tooltip&&(Object.keys(n).forEach(function(e){var t=n[e];t&&i.updateCompValue(e,t.currentValue)}),n.setTitle&&(this.nzTitle=n.setTitle.currentValue,this.updateCompValue("nzTitle",n.setTitle.currentValue)),this.tooltip.cdr.markForCheck())},e.decorators=[{type:a.Directive,args:[{selector:"[nz-tooltip]",exportAs:"nzTooltip",host:{"[class.ant-tooltip-open]":"isTooltipOpen"}}]}],e.ctorParameters=function(){return[{type:a.ElementRef},{type:a.ViewContainerRef},{type:a.ComponentFactoryResolver},{type:a.Renderer2},{type:p,decorators:[{type:a.Optional}]},{type:o.NzNoAnimationDirective,decorators:[{type:a.Host},{type:a.Optional}]}]},e.propDecorators={nzVisibleChange:[{type:a.Output}],nzTitle:[{type:a.Input,args:["nz-tooltip"]}],setTitle:[{type:a.Input,args:["nzTitle"]}],nzContent:[{type:a.Input}],nzMouseEnterDelay:[{type:a.Input}],nzMouseLeaveDelay:[{type:a.Input}],nzOverlayClassName:[{type:a.Input}],nzOverlayStyle:[{type:a.Input}],nzTrigger:[{type:a.Input}],nzVisible:[{type:a.Input}],nzPlacement:[{type:a.Input}]},e}(),u=function(){function e(){}return e.decorators=[{type:a.NgModule,args:[{declarations:[p,c],exports:[p,c],imports:[n.CommonModule,t.OverlayModule,o.NzAddOnModule,o.NzOverlayModule,o.NzNoAnimationModule],entryComponents:[p]}]}],e}();e.NzToolTipComponent=p,e.NzTooltipDirective=c,e.NzToolTipModule=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-tooltip.umd.min.js.map